language: c
sudo: required
install: 
  - wget https://raw.githubusercontent.com/ocaml/ocaml-ci-scripts/master/.travis-opam.sh  
script: 
  - bash -ex .travis-opam.sh
  - bash -ex ./coverage.sh
env:
  global:
   - PINS="distributed:. distributed-lwt:."
   - PRE_INSTALL_HOOK="opam install bisect_ppx && opam install ocveralls"
  matrix:
    - OCAML_VERSION=4.02 PACKAGE=distributed-lwt
    - OCAML_VERSION=4.03 PACKAGE=distributed-lwt
    - OCAML_VERSION=4.04 PACKAGE=distributed-lwt     
    - OCAML_VERSION=4.05 PACKAGE=distributed-lwt    
    - OCAML_VERSION=4.06 PACKAGE=distributed-lwt 
os:
  - linux
  - osx
